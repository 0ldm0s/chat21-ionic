<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>@chat21/chat21-ionic documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	      <link rel="stylesheet" href="../styles/style.css">
    </head>
    <body>

        <div class="navbar navbar-default navbar-fixed-top visible-xs">
            <a href="../" class="navbar-brand">@chat21/chat21-ionic documentation</a>
            <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content component">
                   <div class="content-data">




<ol class="breadcrumb">
  <li>Components</li>
  <li>ListaConversazioniPage</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="active">
            <a href="#info" role="tab" id="info-tab" data-toggle="tab" data-link="info">Info</a>
        </li>
        <li >
            <a href="#source" role="tab" id="source-tab" data-toggle="tab" data-link="source">Source</a>
        </li>
        <li >
            <a href="#templateData" role="tab" id="templateData-tab" data-toggle="tab" data-link="template">Template</a>
        </li>
        <li >
            <a href="#tree" role="tab" id="tree-tab" data-toggle="tab" data-link="dom-tree">DOM Tree</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="c-info"><p class="comment">
    <h3>File</h3>
</p>
<p class="comment">
    <code>src/pages/lista-conversazioni/lista-conversazioni.ts</code>
</p>


    <p class="comment">
        <h3>Extends</h3>
    </p>
    <p class="comment">
                <code><a href="../classes/_MasterPage.html" target="_self" >_MasterPage</a></code>
    </p>



<section>
    <h3>Metadata</h3>
    <table class="table table-sm table-hover">
        <tbody>











            <tr>
                <td class="col-md-3">selector</td>
                <td class="col-md-9"><code>page-lista-conversazioni</code></td>
            </tr>




            <tr>
                <td class="col-md-3">templateUrl</td>
                <td class="col-md-9"><code>lista-conversazioni.html</code></td>
            </tr>








        </tbody>
    </table>
</section>

    <section>
    <h3 id="index">Index</h3>
    <table class="table table-sm table-bordered index-table">
        <tbody>
                <tr>
                    <td class="col-md-4">
                        <h6><b>Properties</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#archivedConversations">archivedConversations</a>
                            </li>
                            <li>
                                <a href="#archivedConversationsChanged">archivedConversationsChanged</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#BUILD_VERSION">BUILD_VERSION</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#chatConversationsHandler">chatConversationsHandler</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#chatManager">chatManager</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#conversationHandler">conversationHandler</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#conversations">conversations</a>
                            </li>
                            <li>
                                <a href="#conversationsChanged">conversationsChanged</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#conversationsHandler">conversationsHandler</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#convertMessage">convertMessage</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#databaseProvider">databaseProvider</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#events">events</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#loadingIsActive">loadingIsActive</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#loggedUser">loggedUser</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#modalCtrl">modalCtrl</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#navCtrl">navCtrl</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#navParams">navParams</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#navProxy">navProxy</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#numberOpenConv">numberOpenConv</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#numberTotConv">numberTotConv</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#popoverCtrl">popoverCtrl</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#profileModal">profileModal</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#showPlaceholder">showPlaceholder</a>
                            </li>
                            <li>
                                <a href="#subscribeLoggedUserLogin">subscribeLoggedUserLogin</a>
                            </li>
                            <li>
                                <a href="#subscribeLoggedUserLogout">subscribeLoggedUserLogout</a>
                            </li>
                            <li>
                                <a href="#subscribeUidConvSelectedChanged">subscribeUidConvSelectedChanged</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#supportMode">supportMode</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#tenant">tenant</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#timerIdOpenConversation">timerIdOpenConversation</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#uidConvSelected">uidConvSelected</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#uidReciverFromUrl">uidReciverFromUrl</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#userService">userService</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Methods</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#checkLoadingIsActive">checkLoadingIsActive</a>
                            </li>
                            <li>
                                <a href="#checkMessageListIsOpen">checkMessageListIsOpen</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#closeConversation">closeConversation</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#closeSupportGroup">closeSupportGroup</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#deleteConversation">deleteConversation</a>
                            </li>
                            <li>
                                <a href="#goToChat">goToChat</a>
                            </li>
                            <li>
                                <a href="#initConversationsHandler">initConversationsHandler</a>
                            </li>
                            <li>
                                <a href="#initialize">initialize</a>
                            </li>
                            <li>
                                <a href="#initInterface">initInterface</a>
                            </li>
                            <li>
                                <a href="#initSubscriptions">initSubscriptions</a>
                            </li>
                            <li>
                                <a href="#initVariables">initVariables</a>
                            </li>
                            <li>
                                <a href="#ionViewDidLeave">ionViewDidLeave</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#logOut">logOut</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#openArchivedConversationsPage">openArchivedConversationsPage</a>
                            </li>
                            <li>
                                <a href="#openMessageList">openMessageList</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#openUsersList">openUsersList</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#presentPopover">presentPopover</a>
                            </li>
                            <li>
                                <a href="#setUidConvSelected">setUidConvSelected</a>
                            </li>
                        </ul>
                    </td>
                </tr>





        </tbody>
    </table>
</section>

    <section>
    <h3 id="constructor">Constructor</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
<code>constructor(popoverCtrl: PopoverController, modalCtrl: ModalController, navCtrl: NavController, navParams: NavParams, navProxy: <a href="../injectables/NavProxyService.html">NavProxyService</a>, userService: <a href="../injectables/UserService.html">UserService</a>, chatConversationsHandler: <a href="../injectables/ChatConversationsHandler.html">ChatConversationsHandler</a>, conversationHandler: <a href="../injectables/ChatConversationHandler.html">ChatConversationHandler</a>, events: Events, chatManager: <a href="../injectables/ChatManager.html">ChatManager</a>, databaseProvider: <a href="../injectables/DatabaseProvider.html">DatabaseProvider</a>, groupService: <a href="../injectables/GroupService.html">GroupService</a>, tiledeskConversationProvider: <a href="../injectables/TiledeskConversationProvider.html">TiledeskConversationProvider</a>, alertCtrl: AlertController, translate: TranslateService, chatArchivedConversationsHandler: <a href="../injectables/ChatArchivedConversationsHandler.html">ChatArchivedConversationsHandler</a>)</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="62" class="link-to-prism">src/pages/lista-conversazioni/lista-conversazioni.ts:62</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                            <div>
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>popoverCtrl</td>
                                                  
                                                        <td>
                                                                    <code>PopoverController</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>modalCtrl</td>
                                                  
                                                        <td>
                                                                    <code>ModalController</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>navCtrl</td>
                                                  
                                                        <td>
                                                                    <code>NavController</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>navParams</td>
                                                  
                                                        <td>
                                                                    <code>NavParams</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>navProxy</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/NavProxyService.html" target="_self" >NavProxyService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>userService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/UserService.html" target="_self" >UserService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>chatConversationsHandler</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/ChatConversationsHandler.html" target="_self" >ChatConversationsHandler</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>conversationHandler</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/ChatConversationHandler.html" target="_self" >ChatConversationHandler</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>events</td>
                                                  
                                                        <td>
                                                                    <code>Events</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>chatManager</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/ChatManager.html" target="_self" >ChatManager</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>databaseProvider</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/DatabaseProvider.html" target="_self" >DatabaseProvider</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>groupService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/GroupService.html" target="_self" >GroupService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>tiledeskConversationProvider</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/TiledeskConversationProvider.html" target="_self" >TiledeskConversationProvider</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>alertCtrl</td>
                                                  
                                                        <td>
                                                                    <code>AlertController</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>translate</td>
                                                  
                                                        <td>
                                                                    <code>TranslateService</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>chatArchivedConversationsHandler</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/ChatArchivedConversationsHandler.html" target="_self" >ChatArchivedConversationsHandler</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
</section>





    <section>
    
    <h3 id="methods">
        Methods
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="checkLoadingIsActive"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Private</span>
                            checkLoadingIsActive
                        </b>
                        <a href="#checkLoadingIsActive"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>checkLoadingIsActive(time: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="479"
                            class="link-to-prism">src/pages/lista-conversazioni/lista-conversazioni.ts:479</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>::: checkLoadingIsActive :::
metodo mostra un placeholder di benvenuto se non ci sono conversazioni
ritardato dopo 5 sec per dare il tempo di caricare lo storico delle conversazioni
dallo storage locale o da remoto
(metodo richiamato da html) </p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>time</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="checkMessageListIsOpen"></a>
                    <span class="name">
                        <b>
                            checkMessageListIsOpen
                        </b>
                        <a href="#checkMessageListIsOpen"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>checkMessageListIsOpen(uidConvSelected, type?)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="337"
                            class="link-to-prism">src/pages/lista-conversazioni/lista-conversazioni.ts:337</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>::: checkMessageListIsOpen :::
se la conversazione selezionata NON è già aperta e mi trovo nella versione tablet/desk (&gt;767)
imposto uidConvSelected
apro dettaglio conversazione</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>uidConvSelected</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>type</td>

                                    <td>
                                        Yes
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="closeConversation"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Private</span>
                            closeConversation
                        </b>
                        <a href="#closeConversation"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>closeConversation(conversation)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="496"
                            class="link-to-prism">src/pages/lista-conversazioni/lista-conversazioni.ts:496</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>::: closeConversation :::
chiudo conversazione
(metodo richiamato da html) 
the conversationId is:</p>
<ul>
<li>se è una conversazione diretta: elimino conversazione </li>
<li>se è una conversazione di gruppo: chiudo conversazione </li>
</ul>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>conversation</td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p><a href="https://github.com/chat21/chat21-cloud-functions/blob/master/docs/api.md#delete-a-conversation">https://github.com/chat21/chat21-cloud-functions/blob/master/docs/api.md#delete-a-conversation</a></p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="closeSupportGroup"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Private</span>
                            closeSupportGroup
                        </b>
                        <a href="#closeSupportGroup"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>closeSupportGroup(groupId, callback)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="528"
                            class="link-to-prism">src/pages/lista-conversazioni/lista-conversazioni.ts:528</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>::: closeSupportGroup :::
1 - rimuovo l&#39;handler della conversazione
imposto la conversazione (isConversationClosingMap) come una conversazione in attesa di essere chiusa 
chiudo gruppo</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>groupId</td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                    </td>
                                </tr>
                                <tr>
                                    <td>callback</td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>close the support group
<a href="https://github.com/chat21/chat21-cloud-functions/blob/master/docs/api.md#close-support-group">https://github.com/chat21/chat21-cloud-functions/blob/master/docs/api.md#close-support-group</a></p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="deleteConversation"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Private</span>
                            deleteConversation
                        </b>
                        <a href="#deleteConversation"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>deleteConversation(conversationId, callback)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="565"
                            class="link-to-prism">src/pages/lista-conversazioni/lista-conversazioni.ts:565</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>::: deleteConversation :::
1 - rimuovo l&#39;handler della conversazione
imposto la conversazione (isConversationClosingMap) come una conversazione in attesa di essere chiusa 
cancello la conversazione</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                    <td>Description</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>conversationId</td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                    </td>
                                </tr>
                                <tr>
                                    <td>callback</td>

                                    <td>
                                        No
                                    </td>


                                    <td>
                                        <p>more details availables at 
<a href="https://github.com/chat21/chat21-cloud-functions/blob/master/docs/api.md#delete-a-conversation">https://github.com/chat21/chat21-cloud-functions/blob/master/docs/api.md#delete-a-conversation</a></p>

                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="goToChat"></a>
                    <span class="name">
                        <b>
                            goToChat
                        </b>
                        <a href="#goToChat"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>goToChat(conversationWith: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, conversationWithFullname: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="404"
                            class="link-to-prism">src/pages/lista-conversazioni/lista-conversazioni.ts:404</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>::: goToChat :::
1 - invocato dalla pagina html alla selezione di una conversazione
imposta conversazione attiva nella pagina elenco conversazioni e 
pubblica id della conversazione selezionata</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>conversationWith</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>conversationWithFullname</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="initConversationsHandler"></a>
                    <span class="name">
                        <b>
                            initConversationsHandler
                        </b>
                        <a href="#initConversationsHandler"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>initConversationsHandler()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="196"
                            class="link-to-prism">src/pages/lista-conversazioni/lista-conversazioni.ts:196</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>::: initConversationsHandler :::
inizializzo chatConversationsHandler e archviedConversationsHandler
recupero le conversazioni salvate nello storage e pubblico l&#39;evento loadedConversationsStorage
imposto uidConvSelected in conversationHandler e chatArchivedConversationsHandler
e mi sottoscrivo al nodo conversazioni in conversationHandler e chatArchivedConversationsHandler (connect)
salvo conversationHandler in chatManager</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="initialize"></a>
                    <span class="name">
                        <b>
                            initialize
                        </b>
                        <a href="#initialize"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>initialize()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="136"
                            class="link-to-prism">src/pages/lista-conversazioni/lista-conversazioni.ts:136</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>::: initialize :::</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="initInterface"></a>
                    <span class="name">
                        <b>
                            initInterface
                        </b>
                        <a href="#initInterface"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>initInterface()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="181"
                            class="link-to-prism">src/pages/lista-conversazioni/lista-conversazioni.ts:181</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>::: initInterface :::
imposto la pg di login
se sono su mobile nella pagina di dettaglio imposto il placeholder</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="initSubscriptions"></a>
                    <span class="name">
                        <b>
                            initSubscriptions
                        </b>
                        <a href="#initSubscriptions"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>initSubscriptions()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="229"
                            class="link-to-prism">src/pages/lista-conversazioni/lista-conversazioni.ts:229</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>::: initSubscriptions :::
mi sottoscrivo a:
1 - elenco conversazioni
2 - elenco conversazioni erchiviate
3 - logout
4 - conversazione selezionata (attiva)</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="initVariables"></a>
                    <span class="name">
                        <b>
                            initVariables
                        </b>
                        <a href="#initVariables"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>initVariables()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="152"
                            class="link-to-prism">src/pages/lista-conversazioni/lista-conversazioni.ts:152</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>::: initVariables :::
al caricamento della pagina:
setto BUILD_VERSION prendendo il valore da PACKAGE
recupero conversationWith - se vengo da dettaglio conversazione o da users con conversazione attiva ???? sarà sempre undefined da spostare in ionViewDidEnter
recupero tenant
imposto recipient se esiste nei parametri passati nell&#39;url 
imposto uidConvSelected recuperando id ultima conversazione aperta dallo storage </p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="ionViewDidLeave"></a>
                    <span class="name">
                        <b>
                            ionViewDidLeave
                        </b>
                        <a href="#ionViewDidLeave"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>ionViewDidLeave()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="109"
                            class="link-to-prism">src/pages/lista-conversazioni/lista-conversazioni.ts:109</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="logOut"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Private</span>
                            logOut
                        </b>
                        <a href="#logOut"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>logOut()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="467"
                            class="link-to-prism">src/pages/lista-conversazioni/lista-conversazioni.ts:467</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>::: logOut :::
modulo richiamato se premo su logout
1 - aggiungo placeholderPage 
2 - richiamo il logout di firebase</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="openArchivedConversationsPage"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Private</span>
                            openArchivedConversationsPage
                        </b>
                        <a href="#openArchivedConversationsPage"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>openArchivedConversationsPage()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="453"
                            class="link-to-prism">src/pages/lista-conversazioni/lista-conversazioni.ts:453</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>::: openArchivedConversationsPage :::
Open the archived conversations page
(metodo richiamato da html) </p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="openMessageList"></a>
                    <span class="name">
                        <b>
                            openMessageList
                        </b>
                        <a href="#openMessageList"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>openMessageList(type?: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="364"
                            class="link-to-prism">src/pages/lista-conversazioni/lista-conversazioni.ts:364</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>::: openMessageList :::
1 - cerco conv con id == this.uidConvSelected e imposto select a FALSE
2 - cerco conv con id == nw uidConvSelected se esiste:<br>2.1 - imposto status a 0 come letto
2.2 - seleziono conv selected == TRUE
2.3 - imposto nw uidConvSelected come this.uidConvSelected
2.4 - apro conv
3 salvo id conv nello storage</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>type</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        Yes
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="openUsersList"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Private</span>
                            openUsersList
                        </b>
                        <a href="#openUsersList"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>openUsersList(event: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="414"
                            class="link-to-prism">src/pages/lista-conversazioni/lista-conversazioni.ts:414</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>::: openUsersList :::
apro pagina elenco users 
(metodo richiamato da html) </p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>event</td>
                                    <td>
                                                <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="presentPopover"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Private</span>
                            presentPopover
                        </b>
                        <a href="#presentPopover"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>presentPopover(event)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="428"
                            class="link-to-prism">src/pages/lista-conversazioni/lista-conversazioni.ts:428</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>::: presentPopover :::
apro il menu delle opzioni 
(metodo richiamato da html) 
alla chiusura controllo su quale opzione ho premuto e attivo l&#39;azione corrispondete</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>event</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="setUidConvSelected"></a>
                    <span class="name">
                        <b>
                            setUidConvSelected
                        </b>
                        <a href="#setUidConvSelected"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>setUidConvSelected(uidConvSelected?: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="348"
                            class="link-to-prism">src/pages/lista-conversazioni/lista-conversazioni.ts:348</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>::: setUidConvSelected :::</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>uidConvSelected</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        Yes
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</section>
    <section>
    
        <h3 id="inputs">
            Properties
        </h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="archivedConversations"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Private</span>
                            archivedConversations</b>
                            <a href="#archivedConversations"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="../classes/ConversationModel.html" target="_self" >ConversationModel[]</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="45" class="link-to-prism">src/pages/lista-conversazioni/lista-conversazioni.ts:45</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="archivedConversationsChanged"></a>
                        <span class="name">
                            <b>
                            archivedConversationsChanged</b>
                            <a href="#archivedConversationsChanged"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>() &#x3D;&gt; {...}</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="297" class="link-to-prism">src/pages/lista-conversazioni/lista-conversazioni.ts:297</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>::: archivedConversationsChanged :::
evento richiamato su add, change, remove dell&#39;elenco delle conversazioni archiviate</p>
</div>
                    </td>
                </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="BUILD_VERSION"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Private</span>
                            BUILD_VERSION</b>
                            <a href="#BUILD_VERSION"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="55" class="link-to-prism">src/pages/lista-conversazioni/lista-conversazioni.ts:55</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="chatConversationsHandler"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            chatConversationsHandler</b>
                            <a href="#chatConversationsHandler"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="../injectables/ChatConversationsHandler.html" target="_self" >ChatConversationsHandler</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="71" class="link-to-prism">src/pages/lista-conversazioni/lista-conversazioni.ts:71</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="chatManager"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            chatManager</b>
                            <a href="#chatManager"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="../injectables/ChatManager.html" target="_self" >ChatManager</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="74" class="link-to-prism">src/pages/lista-conversazioni/lista-conversazioni.ts:74</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="conversationHandler"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            conversationHandler</b>
                            <a href="#conversationHandler"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="../injectables/ChatConversationHandler.html" target="_self" >ChatConversationHandler</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="72" class="link-to-prism">src/pages/lista-conversazioni/lista-conversazioni.ts:72</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="conversations"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Private</span>
                            conversations</b>
                            <a href="#conversations"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="../classes/ConversationModel.html" target="_self" >Array&lt;ConversationModel&gt;</a></code>

                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>[]</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="44" class="link-to-prism">src/pages/lista-conversazioni/lista-conversazioni.ts:44</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="conversationsChanged"></a>
                        <span class="name">
                            <b>
                            conversationsChanged</b>
                            <a href="#conversationsChanged"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>() &#x3D;&gt; {...}</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="265" class="link-to-prism">src/pages/lista-conversazioni/lista-conversazioni.ts:265</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>evento richiamato quando ho finito di caricare le conversazioni dallo storage</p>
</div>
                    </td>
                </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="conversationsHandler"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Private</span>
                            conversationsHandler</b>
                            <a href="#conversationsHandler"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="../injectables/ChatConversationsHandler.html" target="_self" >ChatConversationsHandler</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="52" class="link-to-prism">src/pages/lista-conversazioni/lista-conversazioni.ts:52</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="convertMessage"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Private</span>
                            convertMessage</b>
                            <a href="#convertMessage"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>convertMessage</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="60" class="link-to-prism">src/pages/lista-conversazioni/lista-conversazioni.ts:60</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="databaseProvider"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            databaseProvider</b>
                            <a href="#databaseProvider"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="../injectables/DatabaseProvider.html" target="_self" >DatabaseProvider</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="75" class="link-to-prism">src/pages/lista-conversazioni/lista-conversazioni.ts:75</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="events"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            events</b>
                            <a href="#events"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code>Events</code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="73" class="link-to-prism">src/pages/lista-conversazioni/lista-conversazioni.ts:73</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="loadingIsActive"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Private</span>
                            loadingIsActive</b>
                            <a href="#loadingIsActive"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>true</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="48" class="link-to-prism">src/pages/lista-conversazioni/lista-conversazioni.ts:48</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="loggedUser"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Private</span>
                            loggedUser</b>
                            <a href="#loggedUser"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="../classes/UserModel.html" target="_self" >UserModel</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="43" class="link-to-prism">src/pages/lista-conversazioni/lista-conversazioni.ts:43</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="modalCtrl"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            modalCtrl</b>
                            <a href="#modalCtrl"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code>ModalController</code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="66" class="link-to-prism">src/pages/lista-conversazioni/lista-conversazioni.ts:66</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="navCtrl"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            navCtrl</b>
                            <a href="#navCtrl"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code>NavController</code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="67" class="link-to-prism">src/pages/lista-conversazioni/lista-conversazioni.ts:67</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="navParams"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            navParams</b>
                            <a href="#navParams"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code>NavParams</code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="68" class="link-to-prism">src/pages/lista-conversazioni/lista-conversazioni.ts:68</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="navProxy"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            navProxy</b>
                            <a href="#navProxy"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="../injectables/NavProxyService.html" target="_self" >NavProxyService</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="69" class="link-to-prism">src/pages/lista-conversazioni/lista-conversazioni.ts:69</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="numberOpenConv"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Private</span>
                            numberOpenConv</b>
                            <a href="#numberOpenConv"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>0</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="47" class="link-to-prism">src/pages/lista-conversazioni/lista-conversazioni.ts:47</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="numberTotConv"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Private</span>
                            numberTotConv</b>
                            <a href="#numberTotConv"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>0</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="49" class="link-to-prism">src/pages/lista-conversazioni/lista-conversazioni.ts:49</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="popoverCtrl"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            popoverCtrl</b>
                            <a href="#popoverCtrl"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code>PopoverController</code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="65" class="link-to-prism">src/pages/lista-conversazioni/lista-conversazioni.ts:65</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="profileModal"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Private</span>
                            profileModal</b>
                            <a href="#profileModal"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code>Modal</code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="54" class="link-to-prism">src/pages/lista-conversazioni/lista-conversazioni.ts:54</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="showPlaceholder"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Private</span>
                            showPlaceholder</b>
                            <a href="#showPlaceholder"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>true</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="62" class="link-to-prism">src/pages/lista-conversazioni/lista-conversazioni.ts:62</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="subscribeLoggedUserLogin"></a>
                        <span class="name">
                            <b>
                            subscribeLoggedUserLogin</b>
                            <a href="#subscribeLoggedUserLogin"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>() &#x3D;&gt; {...}</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="121" class="link-to-prism">src/pages/lista-conversazioni/lista-conversazioni.ts:121</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>::: subscribeLoggedUserLogin :::
effettuato il login: 
1 - imposto loggedUser
2 - dismetto modale
3 - inizializzo elenco conversazioni</p>
</div>
                    </td>
                </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="subscribeLoggedUserLogout"></a>
                        <span class="name">
                            <b>
                            subscribeLoggedUserLogout</b>
                            <a href="#subscribeLoggedUserLogout"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>() &#x3D;&gt; {...}</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="318" class="link-to-prism">src/pages/lista-conversazioni/lista-conversazioni.ts:318</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>::: subscribeLoggedUserLogout :::
effettuato il logout:
1 - mostro placeholder
2 - resetto array conversazioni
3 - mostro modale login
4 - resetto conversationWith</p>
</div>
                    </td>
                </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="subscribeUidConvSelectedChanged"></a>
                        <span class="name">
                            <b>
                            subscribeUidConvSelectedChanged</b>
                            <a href="#subscribeUidConvSelectedChanged"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>() &#x3D;&gt; {...}</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="306" class="link-to-prism">src/pages/lista-conversazioni/lista-conversazioni.ts:306</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>::: subscribeUidConvSelectedChanged :::
evento richiamato quando si seleziona un utente nell&#39;elenco degli user 
apro dettaglio conversazione </p>
</div>
                    </td>
                </tr>

            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="supportMode"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Private</span>
                            supportMode</b>
                            <a href="#supportMode"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>environment.supportMode</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="61" class="link-to-prism">src/pages/lista-conversazioni/lista-conversazioni.ts:61</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="tenant"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Private</span>
                            tenant</b>
                            <a href="#tenant"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="46" class="link-to-prism">src/pages/lista-conversazioni/lista-conversazioni.ts:46</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="timerIdOpenConversation"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Private</span>
                            timerIdOpenConversation</b>
                            <a href="#timerIdOpenConversation"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code>NodeJS.Timer</code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="57" class="link-to-prism">src/pages/lista-conversazioni/lista-conversazioni.ts:57</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="uidConvSelected"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Private</span>
                            uidConvSelected</b>
                            <a href="#uidConvSelected"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="53" class="link-to-prism">src/pages/lista-conversazioni/lista-conversazioni.ts:53</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="uidReciverFromUrl"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Private</span>
                            uidReciverFromUrl</b>
                            <a href="#uidReciverFromUrl"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="51" class="link-to-prism">src/pages/lista-conversazioni/lista-conversazioni.ts:51</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="userService"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            userService</b>
                            <a href="#userService"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="../injectables/UserService.html" target="_self" >UserService</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="70" class="link-to-prism">src/pages/lista-conversazioni/lista-conversazioni.ts:70</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
</section>

</div>


    <div class="tab-pane fade  tab-source-code" id="c-source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import { Component, NgZone } from &#x27;@angular/core&#x27;;
import { Events, PopoverController, IonicPage, NavController, NavParams, ModalController, Modal, AlertController } from &#x27;ionic-angular&#x27;;
// models
import { ConversationModel } from &#x27;../../models/conversation&#x27;;
import { UserModel } from &#x27;../../models/user&#x27;;

// pages
import { LoginPage } from &#x27;../authentication/login/login&#x27;;
import { PlaceholderPage } from &#x27;../placeholder/placeholder&#x27;;
import { DettaglioConversazionePage } from &#x27;../dettaglio-conversazione/dettaglio-conversazione&#x27;;
import { UsersPage } from &#x27;../users/users&#x27;;
import { _MasterPage } from &#x27;../_MasterPage&#x27;;
import { PopoverPage } from &#x27;../popover/popover&#x27;;
import { ProfilePage } from &#x27;../profile/profile&#x27;;
// utils
import { getParameterByName, convertMessage, windowsMatchMedia } from &#x27;../../utils/utils&#x27;;
import { TYPE_POPUP_LIST_CONVERSATIONS } from &#x27;../../utils/constants&#x27;;
import * as PACKAGE from &#x27;../../../package.json&#x27;;
// services
import { ChatManager } from &#x27;../../providers/chat-manager/chat-manager&#x27;;
import { NavProxyService } from &#x27;../../providers/nav-proxy&#x27;;
import { UserService } from &#x27;../../providers/user/user&#x27;;
import { ChatConversationsHandler } from &#x27;../../providers/chat-conversations-handler&#x27;;
import { ChatConversationHandler } from &#x27;../../providers/chat-conversation-handler&#x27;;
import { DatabaseProvider } from &#x27;../../providers/database/database&#x27;;
import { GroupService } from &#x27;../../providers/group/group&#x27;;

import { TiledeskConversationProvider } from &#x27;../../providers/tiledesk-conversation/tiledesk-conversation&#x27;;

import { TranslateService } from &#x27;@ngx-translate/core&#x27;;
import { ArchivedConversationsPage } from &#x27;../archived-conversations/archived-conversations&#x27;;
import { ChatArchivedConversationsHandler } from &#x27;../../providers/chat-archived-conversations-handler&#x27;;
import { isGeneratedFile } from &#x27;@angular/compiler/src/aot/util&#x27;;
import { User } from &#x27;firebase&#x27;;
import { environment } from &#x27;../../environments/environment&#x27;;

@IonicPage()
@Component({
  selector: &#x27;page-lista-conversazioni&#x27;,
  templateUrl: &#x27;lista-conversazioni.html&#x27;,
})
export class ListaConversazioniPage extends _MasterPage {
  private loggedUser: UserModel;
  private conversations: Array&lt;ConversationModel&gt; &#x3D; [];
  private archivedConversations: ConversationModel[];
  private tenant: string;
  private numberOpenConv: number &#x3D; 0;
  private loadingIsActive: boolean &#x3D; true;
  private numberTotConv: number &#x3D; 0;

  private uidReciverFromUrl: string;
  private conversationsHandler: ChatConversationsHandler;
  private uidConvSelected: string;
  private profileModal: Modal;
  private BUILD_VERSION: string;
  // private isHostname: boolean;
  private timerIdOpenConversation: NodeJS.Timer;


  private convertMessage &#x3D; convertMessage;
  private supportMode &#x3D; environment.supportMode;
  private showPlaceholder &#x3D; true;

  constructor(
    public popoverCtrl: PopoverController,
    public modalCtrl: ModalController,
    public navCtrl: NavController,
    public navParams: NavParams,
    public navProxy: NavProxyService,
    public userService: UserService,
    public chatConversationsHandler: ChatConversationsHandler,
    public conversationHandler: ChatConversationHandler,
    public events: Events,
    public chatManager: ChatManager,
    public databaseProvider: DatabaseProvider,
    private groupService: GroupService,
    private tiledeskConversationProvider: TiledeskConversationProvider,
    private alertCtrl: AlertController,
    private translate: TranslateService,
    private chatArchivedConversationsHandler: ChatArchivedConversationsHandler
  ) {
    super();
    this.events.subscribe(&#x27;loggedUser:login&#x27;, this.subscribeLoggedUserLogin);
    /** 
     * RECUPERO ID CONVERSAZIONE
     * se vengo da dettaglio conversazione
     * o da users con conversazione attiva recupero conversationWith
    */
    //this.uidConvSelected &#x3D; navParams.get(&#x27;conversationWith&#x27;);
    //this.getUidReciverFromUrl();
    //this.openConversationInPageDetail();

    /** SUBSCRIBE USER LOGGED
     * sul LOGIN:
     * 1 - dismetto modale login se è visibile
     * 2 - carico elenco conversazioni
     * sul LOGOUT
     * 1 - aggiungo placeholder alla pg delle conversazioni
     * 2 - resetto array conversazioni 
     * 3 - visualizzo la pg di login
     * 4 - resetto conversationWith
    */
    //this.profileModal &#x3D; this.modalCtrl.create(LoginPage, { tenant: this.tenant }, { enableBackdropDismiss: false });
    //this.checkLoadingIsActive(5000);
    //this.openDetailConversation();
  }


  ionViewDidLeave() {
    //clearTimeout(this.timerIdOpenConversation);
  }


  /** 
   * ::: subscribeLoggedUserLogin :::
   * effettuato il login: 
   * 1 - imposto loggedUser
   * 2 - dismetto modale
   * 3 - inizializzo elenco conversazioni
  */
  subscribeLoggedUserLogin &#x3D; (user: any) &#x3D;&gt; {
    // console.log(&#x27;************** subscribeLoggedUserLogin&#x27;, user);
    this.loggedUser &#x3D; user;
    try {
      this.profileModal.dismiss({ animate: false, duration: 0 });
    } catch (err) {
      console.error(&quot;-&gt; error:&quot;, err)
    }
    this.initialize();
  }


  /**
   * ::: initialize :::
   */
  initialize(){
    this.initVariables();
    this.initInterface();
    this.initConversationsHandler();
    this.initSubscriptions();
  }

  /** 
   * ::: initVariables :::
   * al caricamento della pagina:
   * setto BUILD_VERSION prendendo il valore da PACKAGE
   * recupero conversationWith - se vengo da dettaglio conversazione o da users con conversazione attiva ???? sarà sempre undefined da spostare in ionViewDidEnter
   * recupero tenant
   * imposto recipient se esiste nei parametri passati nell&#x27;url 
   * imposto uidConvSelected recuperando id ultima conversazione aperta dallo storage 
  */
  initVariables(){
    var that &#x3D; this;
    this.BUILD_VERSION &#x3D; &#x27;v.&#x27; + PACKAGE.version;
    this.tenant &#x3D; this.chatManager.getTenant();
    let TEMP &#x3D; getParameterByName(&#x27;recipient&#x27;);
    if (TEMP) {
      this.uidReciverFromUrl &#x3D; TEMP;
    } 
    this.databaseProvider.initialize(this.loggedUser, this.tenant);
    this.databaseProvider.getUidLastOpenConversation()
    .then(function (uid: string) {
      //console.log(&#x27;getUidLastOpenConversation:: &#x27; + uid);
      that.setUidConvSelected(uid);
    })
    .catch((error) &#x3D;&gt; {
      that.setUidConvSelected();
      console.log(&quot;error::: &quot;, error);
    });
    // console.log(&#x27;::::BUILD_VERSION:::: &#x27;,this.BUILD_VERSION);
    // console.log(&#x27;::::uidConvSelected:::: &#x27;,this.uidConvSelected);
    // console.log(&#x27;::::tenant:::: &#x27;,this.tenant);
    // console.log(&#x27;::::uidReciverFromUrl:::: &#x27;,this.uidReciverFromUrl);
  }

  /**
   * ::: initInterface :::
   * imposto la pg di login
   * se sono su mobile nella pagina di dettaglio imposto il placeholder
   */
  initInterface(){
    this.profileModal &#x3D; this.modalCtrl.create(LoginPage, { tenant: this.tenant }, { enableBackdropDismiss: false });
    if (windowsMatchMedia()) {
      this.navProxy.pushDetail(PlaceholderPage, {});
    }
  }

  /**
   * ::: initConversationsHandler :::
   * inizializzo chatConversationsHandler e archviedConversationsHandler
   * recupero le conversazioni salvate nello storage e pubblico l&#x27;evento loadedConversationsStorage
   * imposto uidConvSelected in conversationHandler e chatArchivedConversationsHandler
   * e mi sottoscrivo al nodo conversazioni in conversationHandler e chatArchivedConversationsHandler (connect)
   * salvo conversationHandler in chatManager
   */
  initConversationsHandler() {
    console.log(&#x27;initConversationsHandler -------------&gt; initConversationsHandler&#x27;);
    ///const tenant &#x3D; this.chatManager.getTenant();
    ///const loggedUser &#x3D; this.chatManager.getLoggedUser();

    // 1 - init chatConversationsHandler and  archviedConversationsHandler
    this.conversationsHandler &#x3D; this.chatConversationsHandler.initWithTenant(this.tenant, this.loggedUser);
    this.chatArchivedConversationsHandler &#x3D; this.chatArchivedConversationsHandler.initWithTenant(this.tenant, this.loggedUser);

    // 2 - get conversations from storage
    this.chatConversationsHandler.getConversationsFromStorage();

    // 3 - set uidConvSelected in conversationHandler
    this.conversationsHandler.uidConvSelected &#x3D; this.uidConvSelected
    this.chatArchivedConversationsHandler.uidConvSelected &#x3D; this.uidConvSelected

    // 5 - connect conversationHandler and archviedConversationsHandler to firebase event (add, change, remove)
    this.conversationsHandler.connect();
    this.chatArchivedConversationsHandler.connect();

    // 6 - save conversationHandler in chatManager
    this.chatManager.setConversationsHandler(this.conversationsHandler);
  }

  /** 
   * ::: initSubscriptions :::
   * mi sottoscrivo a:
   * 1 - elenco conversazioni
   * 2 - elenco conversazioni erchiviate
   * 3 - logout
   * 4 - conversazione selezionata (attiva)
   * 
  */
  initSubscriptions() {
    //this.events.subscribe(&#x27;loadedConversationsStorage&#x27;, this.loadedConversationsStorage);
    this.events.subscribe(&#x27;conversationsChanged&#x27;, this.conversationsChanged);
    this.events.subscribe(&#x27;archivedConversationsChanged&#x27;, this.archivedConversationsChanged);
    this.events.subscribe(&#x27;loggedUser:logout&#x27;, this.subscribeLoggedUserLogout);
    this.events.subscribe(&#x27;uidConvSelected:changed&#x27;, this.subscribeUidConvSelectedChanged);
  }

  //------------------------------------------------------------------//
  // CALLBACKS SOTTOSCRIZIONI
  //------------------------------------------------------------------//
  /** 
   * evento richiamato quando ho finito di caricare le conversazioni dallo storage
  */
  // loadedConversationsStorage: any &#x3D; conversations &#x3D;&gt; {
  //   console.log(&#x27;************** loadedConversationsStorage&#x27;);
  //   if(conversations &amp;&amp; conversations.length &gt; 0 ){
  //     this.conversations &#x3D; conversations;
  //     this.numberOpenConv &#x3D; this.conversationsHandler.countIsNew();
  //   }
  //   this.showDetailConversation();
  // }

  /** 
   * ::: conversationsChanged :::
   * evento richiamato su add, change, remove dell&#x27;elenco delle conversazioni
   * 1 - aggiorno elenco conversazioni
   * 2 - aggiorno il conto delle nuove conversazioni
   * 4 - se esiste un uidReciverFromUrl (passato nell&#x27;url) 
   *    e se esiste una conversazione con lo stesso id di uidReciverFromUrl 
   *    imposto questa come conversazione attiva (operazione da fare una sola volta al caricamento delle conversazioni) 
   *    e la carico nella pagina di dettaglio e azzero la variabile uidReciverFromUrl!!! 
   * 5 - altrimenti se esiste una conversazione con lo stesso id della conversazione attiva 
   *    e la pagina di dettaglio è vuota (placeholder), carico la conversazione attiva (uidConvSelected) nella pagina di dettaglio 
   *    (operazione da fare una sola volta al caricamento delle conversazioni)
  */
  conversationsChanged &#x3D; (conversations: ConversationModel[]) &#x3D;&gt; {
    //console.log(&#x27;LISTA CONVERSAZIONI »»»»»»»»» conversationsChanged - CONVERSATIONS: &#x27;, this.conversations);
    var that &#x3D; this;
    this.conversations &#x3D; conversations;
    this.numberOpenConv &#x3D; this.conversationsHandler.countIsNew();
    if (that.uidReciverFromUrl) {
      if (conversations.findIndex(i &#x3D;&gt; i.uid &#x3D;&#x3D;&#x3D; that.uidReciverFromUrl)) {
        let TEMP &#x3D; getParameterByName(&#x27;recipientFullname&#x27;);
        if (!TEMP) {
          TEMP &#x3D; that.uidReciverFromUrl;
        }
        that.setUidConvSelected(that.uidReciverFromUrl);
        that.openMessageList();
        that.uidReciverFromUrl &#x3D; null;
        that.showPlaceholder &#x3D; false;
      }
    } else {
      if (that.uidConvSelected &amp;&amp; that.showPlaceholder &#x3D;&#x3D;&#x3D; true) {
        const conversationSelected &#x3D; that.conversations.find(item &#x3D;&gt; item.uid &#x3D;&#x3D;&#x3D; that.uidConvSelected);
        if (conversationSelected) {
          that.setUidConvSelected(that.uidConvSelected);
          that.openMessageList();
          that.showPlaceholder &#x3D; false;
        }
      }
    }
  }

  /**
   * ::: archivedConversationsChanged :::
   * evento richiamato su add, change, remove dell&#x27;elenco delle conversazioni archiviate
  */
  archivedConversationsChanged &#x3D; (conversations: ConversationModel[]) &#x3D;&gt; {
    this.archivedConversations &#x3D; conversations;
  }

  /** 
   * ::: subscribeUidConvSelectedChanged :::
   * evento richiamato quando si seleziona un utente nell&#x27;elenco degli user 
   * apro dettaglio conversazione 
  */
  subscribeUidConvSelectedChanged &#x3D; (uidConvSelected: string, type: string) &#x3D;&gt; {
    this.checkMessageListIsOpen(uidConvSelected, type);
  }
  
  /** 
   * ::: subscribeLoggedUserLogout :::
   * effettuato il logout:
   * 1 - mostro placeholder
   * 2 - resetto array conversazioni
   * 3 - mostro modale login
   * 4 - resetto conversationWith
  */
  subscribeLoggedUserLogout &#x3D; (user: any) &#x3D;&gt; {
    console.log(&#x27;************** subscribeLoggedUserLogout&#x27;, user);
    this.conversations &#x3D; [];
    this.profileModal.present();
    this.uidConvSelected &#x3D; null;
  }
  //------------------------------------------------------------------//


  //------------------------------------------------------------------//
  // BEGIN FUNCTIONS
  //------------------------------------------------------------------//
  /**
   * ::: checkMessageListIsOpen :::
   * se la conversazione selezionata NON è già aperta e mi trovo nella versione tablet/desk (&gt;767)
   * imposto uidConvSelected
   * apro dettaglio conversazione
   * @param uidConvSelected 
   */
  checkMessageListIsOpen(uidConvSelected, type?) {
    if (uidConvSelected !&#x3D;&#x3D; this.uidConvSelected &amp;&amp; windowsMatchMedia()) {
      this.setUidConvSelected(uidConvSelected);
      this.openMessageList(type);
    }
  }

  /**
   * ::: setUidConvSelected :::
   * @param uidConvSelected 
   */
  setUidConvSelected(uidConvSelected?: string) {
    this.uidConvSelected &#x3D; uidConvSelected;
    this.chatConversationsHandler.uidConvSelected &#x3D; uidConvSelected;
  }

  /**
   * ::: openMessageList :::
   * 1 - cerco conv con id &#x3D;&#x3D; this.uidConvSelected e imposto select a FALSE
   * 2 - cerco conv con id &#x3D;&#x3D; nw uidConvSelected se esiste:  
   * 2.1 - imposto status a 0 come letto
   * 2.2 - seleziono conv selected &#x3D;&#x3D; TRUE
   * 2.3 - imposto nw uidConvSelected come this.uidConvSelected
   * 2.4 - apro conv
   * 3 salvo id conv nello storage
   * @param uidConvSelected  
   */
  openMessageList(type?: string) {
    const that &#x3D; this;
    console.log(&#x27;openMessageList:: &gt;&gt;&gt;&gt; conversationSelected &#x27;, that.uidConvSelected);
    setTimeout(function () {
      const conversationSelected &#x3D; that.conversations.find(item &#x3D;&gt; item.uid &#x3D;&#x3D;&#x3D; that.uidConvSelected);
      if (conversationSelected) {
        conversationSelected.is_new &#x3D; false;
        conversationSelected.status &#x3D; &#x27;0&#x27;;
        conversationSelected.selected &#x3D; true;
        that.navProxy.pushDetail(DettaglioConversazionePage, {
          conversationSelected: conversationSelected,
          conversationWith: that.uidConvSelected,
          conversationWithFullname: conversationSelected.conversation_with_fullname,
          channel_type: conversationSelected.channel_type
        });
        that.conversationsHandler.setConversationRead(conversationSelected.uid);
        that.databaseProvider.setUidLastOpenConversation(that.uidConvSelected);
      } else if (!type) {
        if (windowsMatchMedia()) {
          that.navProxy.pushDetail(PlaceholderPage, {});
        }
      }
    }, 0);
    // if the conversation from the isConversationClosingMap is waiting to be closed 
    // deny the click on the conversation
    if (this.tiledeskConversationProvider.getClosingConversation(this.uidConvSelected)) return;
  }
  //------------------------------------------------------------------//


  //------------------------------------------------------------------//
  // BEGIN ACTIONS
  //------------------------------------------------------------------//
  /**
   * ::: goToChat :::
   * 1 - invocato dalla pagina html alla selezione di una conversazione
   * imposta conversazione attiva nella pagina elenco conversazioni e 
   * pubblica id della conversazione selezionata
   * @param conversationWith 
   */
  goToChat(conversationWith: string, conversationWithFullname: string) {
    console.log(&#x27;**************** goToChat conversationWith:: &#x27;, conversationWith);
    this.events.publish(&#x27;uidConvSelected:changed&#x27;, conversationWith, &#x27;new&#x27;);
  }

  /**
  * ::: openUsersList :::
  * apro pagina elenco users 
  * (metodo richiamato da html) 
  */
  private openUsersList(event: any) {
    this.navCtrl.push(UsersPage, {
      contacts: &quot;&quot;,
      &#x27;tenant&#x27;: this.tenant,
      &#x27;loggedUser&#x27;: this.loggedUser
    });
  }

  /**
  * ::: presentPopover :::
  * apro il menu delle opzioni 
  * (metodo richiamato da html) 
  * alla chiusura controllo su quale opzione ho premuto e attivo l&#x27;azione corrispondete
  */
  private presentPopover(event) {
    const that &#x3D; this;
    let popover &#x3D; this.popoverCtrl.create(PopoverPage, { typePopup: TYPE_POPUP_LIST_CONVERSATIONS });
    popover.present({
      ev: event
    });
    popover.onDidDismiss((data: string) &#x3D;&gt; {
      console.log(&quot; ********* data::: &quot;, data);
      if (data &#x3D;&#x3D; &#x27;logOut&#x27;) {
        that.logOut();
      } else if (data &#x3D;&#x3D; &#x27;ProfilePage&#x27;) {
        if (this.chatManager.getLoggedUser()) {
          this.navCtrl.push(ProfilePage);
        }
      } else if (data &#x3D;&#x3D; &quot;ArchivedConversationsPage&quot;) {
        that.openArchivedConversationsPage();
      }
    });
  }

  /**
   * ::: openArchivedConversationsPage :::
   * Open the archived conversations page
   * (metodo richiamato da html) 
   */
  private openArchivedConversationsPage() {
    this.navCtrl.push(ArchivedConversationsPage, {
      &#x27;archivedConversations&#x27;: this.archivedConversations,
      &#x27;tenant&#x27;: this.tenant,
      &#x27;loggedUser&#x27;: this.loggedUser
    });
  }

  /**
   * ::: logOut :::
   * modulo richiamato se premo su logout
   * 1 - aggiungo placeholderPage 
   * 2 - richiamo il logout di firebase
   */
  private logOut() {
    //this.navProxy.pushDetail(PlaceholderPage,{});
    this.userService.logoutUser();
  }

  /**
   * ::: checkLoadingIsActive :::
   * metodo mostra un placeholder di benvenuto se non ci sono conversazioni
   * ritardato dopo 5 sec per dare il tempo di caricare lo storico delle conversazioni
   * dallo storage locale o da remoto
   * (metodo richiamato da html) 
   */
  private checkLoadingIsActive(time: number) {
    const that &#x3D; this;
    setTimeout(function () {
      that.loadingIsActive &#x3D; false;
    }, time);
  }

  /**
   * ::: closeConversation :::
   * chiudo conversazione
   * (metodo richiamato da html) 
   * the conversationId is:
   * - se è una conversazione diretta: elimino conversazione 
   * - se è una conversazione di gruppo: chiudo conversazione 
   * @param conversation 
   * https://github.com/chat21/chat21-cloud-functions/blob/master/docs/api.md#delete-a-conversation
   */
  private closeConversation(conversation) {
    var conversationId &#x3D; conversation.uid;
    var isSupportConversation &#x3D; conversationId.startsWith(&quot;support-group&quot;);
    if (!isSupportConversation) {
      this.deleteConversation(conversationId, function (result, data) {
        if (result &#x3D;&#x3D;&#x3D; &#x27;success&#x27;) {
          console.log(&quot;ListaConversazioniPage::closeConversation::deleteConversation::response&quot;, data);
        } else if (result &#x3D;&#x3D;&#x3D; &#x27;error&#x27;) {
          console.error(&quot;ListaConversazioniPage::closeConversation::deleteConversation::error&quot;, data);
        }
      });
    } else {
      this.closeSupportGroup(conversationId, function (result: string, data: any) {
        if (result &#x3D;&#x3D;&#x3D; &#x27;success&#x27;) {
          console.log(&quot;ListaConversazioniPage::closeConversation::closeSupportGroup::response&quot;, data);
        } else if (result &#x3D;&#x3D;&#x3D; &#x27;error&#x27;) {
          console.error(&quot;ListaConversazioniPage::closeConversation::closeSupportGroup::error&quot;, data);
        }
      });
    }
  }

  /**
   * ::: closeSupportGroup :::
   * 1 - rimuovo l&#x27;handler della conversazione
   * imposto la conversazione (isConversationClosingMap) come una conversazione in attesa di essere chiusa 
   * chiudo gruppo
   * @param groupId 
   * @param callback 
   * close the support group
   * https://github.com/chat21/chat21-cloud-functions/blob/master/docs/api.md#close-support-group
   */
  private closeSupportGroup(groupId, callback) {
    var that &#x3D; this;
    // BEGIN -  REMOVE FROM LOCAL MEMORY 
    this.conversationsHandler.removeByUid(groupId);
    // END -  REMOVE FROM LOCAL MEMORY 

    // BEGIN - REMOVE FROM REMOTE 
    // set the conversation from the isConversationClosingMap that is waiting to be closed
    this.tiledeskConversationProvider.setClosingConversation(groupId, true);
    // close group
    this.groupService.closeGroup(groupId, function (response, error) {
      if (error) {
        // the conversation closing failed: restore the conversation with 
        // conversationId status to false within the isConversationClosingMap
        that.tiledeskConversationProvider.setClosingConversation(groupId, false);
        callback(&#x27;error&#x27;, error);
      }
      else {
        callback(&#x27;success&#x27;, response);
      }
    });
    // when a conversations is closed shows a placeholder background
    if (groupId &#x3D;&#x3D;&#x3D; that.uidConvSelected) {
      that.navProxy.pushDetail(PlaceholderPage, {});
    }
  }
  
  /**
   * ::: deleteConversation :::
   * 1 - rimuovo l&#x27;handler della conversazione
   * imposto la conversazione (isConversationClosingMap) come una conversazione in attesa di essere chiusa 
   * cancello la conversazione
   * @param conversationId 
   * @param callback 
   * more details availables at 
   * https://github.com/chat21/chat21-cloud-functions/blob/master/docs/api.md#delete-a-conversation
   */
  private deleteConversation(conversationId, callback) {
    var that &#x3D; this;
    // END - REMOVE FROM LOCAL MEMORY 
    this.conversationsHandler.removeByUid(conversationId); // remove the item 
    // END - REMOVE FROM LOCAL MEMORY 

    // BEGIN - REMOVE FROM REMOTE 
    // set the conversation from the isConversationClosingMap that is waiting to be closed
    this.tiledeskConversationProvider.setClosingConversation(conversationId, true);
    // delete a conversation form the personal timeline
    this.tiledeskConversationProvider.deleteConversation(conversationId, function (response, error) {
      if (error) {
        that.tiledeskConversationProvider.setClosingConversation(conversationId, false);
        callback(&#x27;error&#x27;, error);
      }
      else {
        callback(&#x27;success&#x27;, response);
      }
    });
    // when a conversations is closed shows a placeholder background
    if (conversationId &#x3D;&#x3D;&#x3D; this.uidConvSelected) {
      that.navProxy.pushDetail(PlaceholderPage, {});
    }
  }
  //------------------------------------------------------------------//

}





  /** RECUPERO IL RECIPIENTID 
    * nel caso in cui viene pasato nell&#x27;url della pagina
    * per aprire una conversazione
    * USARE getParameterByName(name) del widget
    */
  // getUidReciverFromUrl(){
  //   try{
  //     let TEMP &#x3D; getParameterByName(&#x27;recipient&#x27;);
  //     if (TEMP) { 
  //       this.uidReciverFromUrl &#x3D; TEMP; 
  //     }
  //     TEMP &#x3D; getParameterByName(&#x27;recipientFullname&#x27;);
  //     if (TEMP) { 
  //       this.uidReciverFromUrl &#x3D; TEMP; 
  //     }
  //   } catch (err) {
  //     console.error(&quot;-&gt; error:&quot;, err)
  //   }
  // }

  // openDetailConversation(){
  //   const that &#x3D; this;
  //   /** RECUPERO IL RECIPIENTID dall&#x27;url */
  //   if(!this.loggedUser){
  //     this.loadingIsActive &#x3D; false;
  //     return;
  //   }
  //   try {
  //     let TEMP &#x3D; location.search.split(&#x27;recipient&#x3D;&#x27;)[1];
  //     if (TEMP) { 
  //       this.uidReciverFromUrl &#x3D; TEMP.split(&#x27;&amp;&#x27;)[0]; 
  //       this.setUidConvSelected(this.uidReciverFromUrl);
  //       //this.goToChat(this.uidReciverFromUrl, this.uidReciverFromUrl);
  //     } else {
  //       this.loadingIsActive &#x3D; false;
  //     }
  //   } catch (err) {
  //     console.error(&quot;-&gt; error:&quot;, err)
  //     this.loadingIsActive &#x3D; false;
  //   }
  //   this.showDetailConversation();
  // }

  /** 
   * imposto un setInterval di 3 sec
   * verifico se il num delle conversazioni è aumentato
   * se sono cambiate aggiorno numberTotConv per rifare il controllo
   * altrimenti se esiste già una conversazione con l&#x27;utente passato nell&#x27;url (uidReciverFromUrl):
   *  - apro dettaglio conversazione 
   *  - altrimenti creo una nuova conversazione
   * cancello intervallo;
   * NOTA: da spostare nella classe di service delle conversazioni e utilizzare con una sottoscrizione
   */
  // openConversationInPageDetail() {
  //   var that &#x3D; this;
  //   let uidReciverFromUrlTEMP &#x3D; getParameterByName(&#x27;recipient&#x27;);
  //   if (uidReciverFromUrlTEMP) {
  //     that.uidReciverFromUrl &#x3D; uidReciverFromUrlTEMP;
  //     console.log(&#x27;LISTA CONVERSAZIONI »»»»»»»»» openConversationInPageDetail - uidReciverFromUrl: &#x27;, that.uidReciverFromUrl);
  //   }
  //   let recipientFullnameTEMP &#x3D; getParameterByName(&#x27;recipientFullname&#x27;);
  //   if (!recipientFullnameTEMP) {
  //     recipientFullnameTEMP &#x3D; uidReciverFromUrlTEMP;
  //   }
  //   if (that.uidReciverFromUrl &amp;&amp; windowsMatchMedia()) {
  //     this.events.subscribe(&#x27;loggedUser:login&#x27;, (user) &#x3D;&gt; {
  //       // user and time are the same arguments passed in &#x60;events.publish(user, time)&#x60;
  //       console.log(&#x27;LISTA CONVERSAZIONI Welcome user: &#x27;, user );
  //       that.goToChat(uidReciverFromUrlTEMP, recipientFullnameTEMP);
  //     });
  //   }
  // }

/**
   * se mi trovo in visualizzazione desktop (dettaglio conversazione aperto sulla dx)
   *  - se esite uidConvSelected apro il dettaglio conversazione
   *  - altrimenti setto uidConvSelected alla prima conversazione ed apro il dettaglio conversazione
   */
  // showDetailConversation(){
  //   if (this.uidConvSelected) {
  //     console.log(&#x27;openMessageList 1 ::&#x27;, this.uidConvSelected);
  //     // se visualizzazione è desktop
  //     if (windowsMatchMedia()) {
  //       this.setUidConvSelected(this.uidConvSelected);
  //       this.openMessageList();
  //     }
  //   } else if (this.conversations.length &gt; 0) {
  //     console.log(&#x27;openMessageList 2 ::&#x27;);
  //     // this.uidConvSelected &#x3D; this.conversations[0].uid;
  //     // se visualizzazione è desktop
  //     if (windowsMatchMedia()) {    
  //       //this.setUidConvSelected(this.uidConvSelected);
  //       this.openMessageList();
  //     }
  //   } else {
  //     console.log(&#x27;openMessageList 3 ::&#x27;);
  //     // se visualizzazione è desktop
  //     if (windowsMatchMedia()) {
  //       this.navProxy.pushDetail(PlaceholderPage, {});
  //     }
  //   }
  // }</code></pre>
    </div>

    <div class="tab-pane fade " id="c-templateData">
        <pre class="line-numbers"><code class="language-html">&lt;ion-header  no-border&gt;
  &lt;ion-navbar class&#x3D;&quot;toolbar-md-navbarLightColor&quot;&gt;
    &lt;button ion-button menuToggle&gt;
      &lt;ion-icon name&#x3D;&quot;menu&quot;&gt;&lt;/ion-icon&gt;
    &lt;/button&gt;
    &lt;ion-title&gt;
      &lt;img src&#x3D;&quot;assets/chat21-logo.svg&quot; alt&#x3D;&quot;{{this.tenant}}&quot;&gt;
      &lt;div *ngIf&#x3D;&quot;numberOpenConv &gt; 0&quot; class&#x3D;&quot;c21-number-open-conv&quot;&gt;({{numberOpenConv}})&lt;/div&gt;
    &lt;/ion-title&gt;
    &lt;ion-buttons end&gt;

      &lt;!-- &lt;button *ngIf&#x3D;&quot;!isHostname&quot; ion-button icon-only (click)&#x3D;&quot;openUsersList($event)&quot;&gt; --&gt;
      &lt;button *ngIf&#x3D;&quot;!supportMode&quot; ion-button icon-only (click)&#x3D;&quot;openUsersList($event)&quot;&gt;
          
        &lt;ion-icon name&#x3D;&quot;create&quot;&gt;&lt;/ion-icon&gt;
      &lt;/button&gt;

      &lt;button ion-button icon-only (click)&#x3D;&quot;openArchivedConversationsPage($event)&quot;&gt;
        &lt;ion-icon class&#x3D;&quot;material-icons&quot;&gt;history&lt;/ion-icon&gt;
      &lt;/button&gt;
      &lt;button ion-button icon-only (click)&#x3D;&quot;presentPopover($event)&quot;&gt;
        &lt;ion-icon name&#x3D;&quot;more&quot;&gt;&lt;/ion-icon&gt;
      &lt;/button&gt;
    &lt;/ion-buttons&gt;
  &lt;/ion-navbar&gt;
&lt;/ion-header&gt;

&lt;ion-content class&#x3D;&quot;list-avatar-page&quot;&gt;
  &lt;ion-list&gt;
    &lt;span *ngIf&#x3D;&quot;conversations.length &gt; 0;then contentConversations else contentMessageWelcome&quot;&gt;here is ignored&lt;/span&gt;
    
    &lt;ng-template #contentConversations&gt;
      &lt;ion-item no-lines ion-item [class.selected]&#x3D;&quot;conversation.uid &#x3D;&#x3D;&#x3D; uidConvSelected&quot; *ngFor&#x3D;&quot;let conversation of conversations&quot;
        (mousedown)&#x3D;&quot;setUidConvSelected(conversation.uid)&quot; (mouseup)&#x3D;&quot;openMessageList()&quot;&gt;
        &lt;ion-avatar item-start&gt;
          &lt;div #avatarPlaceholder class&#x3D;&quot;avatar-placeholder&quot; [style.background-color]&#x3D;&quot;conversation.color&quot; [innerHTML]&#x3D;&quot;conversation.avatar&quot;&gt;&lt;/div&gt;
          &lt;div #avatarImage class&#x3D;&quot;chat21-avatar&quot; [style.background-image]&#x3D;&quot;&#x27;url(&#x27; + conversation.image + &#x27;)&#x27;&quot;&gt;&lt;/div&gt;
        &lt;/ion-avatar&gt;
        &lt;div class&#x3D;&quot;truncate&quot; [innerHTML]&#x3D;&quot;conversation.conversation_with_fullname&quot;&gt;&lt;/div&gt;
        &lt;div&gt;
          &lt;p [class.not-read]&#x3D;&quot;conversation.is_new&quot; class&#x3D;&quot;truncate&quot; [innerHTML]&#x3D;&quot;convertMessage(conversation.last_message_text)&quot;&gt;&lt;/p&gt;
        &lt;/div&gt;
        &lt;ion-note item-end&gt;{{conversation.time_last_message}}&lt;/ion-note&gt;
        &lt;button id&#x3D;&quot;{{ &#x27;close_conversation_button&#x27; + conversation.uid }}&quot; class&#x3D;&quot;close-conversation-button&quot; ion-button clear item-end (click)&#x3D;&quot;closeConversation(conversation);$event.stopPropagation();&quot; padding&gt;
          &lt;ion-icon class&#x3D;&quot;close-conversation-button-icon&quot; style&#x3D;&quot;display:block;&quot; id&#x3D;&quot;{{ &#x27;close_button_icon&#x27; + conversation.uid }}&quot; color&#x3D;&quot;close-conversation&quot; name&#x3D;&quot;close&quot; item-end&gt;&lt;/ion-icon&gt;
        &lt;/button&gt;
        &lt;div item-end class&#x3D;&quot;c21-point&quot; *ngIf&#x3D;&quot;conversation.is_new&quot;&gt;&amp;nbsp;&lt;/div&gt;
      &lt;/ion-item&gt;
    &lt;/ng-template&gt;

    &lt;ng-template #contentMessageWelcome&gt;
      &lt;div [class.active]&#x3D;&quot;loadingIsActive&quot; class&#x3D;&quot;chat21-spinner&quot; id&#x3D;&quot;chat21-spinner&quot;&gt;
        &lt;div class&#x3D;&quot;chat21-bounce1&quot;&gt;&lt;/div&gt;
        &lt;div class&#x3D;&quot;chat21-bounce2&quot;&gt;&lt;/div&gt;
        &lt;div class&#x3D;&quot;chat21-bounce3&quot;&gt;&lt;/div&gt;
        &lt;span&gt;loading&lt;/span&gt;
      &lt;/div&gt;
      &lt;div *ngIf&#x3D;&quot;!loadingIsActive &amp;&amp; conversations.length &#x3D;&#x3D; 0&quot; id&#x3D;&quot;content_message_wellcome&quot;&gt;
        &lt;div class&#x3D;&quot;messaggio&quot;&gt;{{ &#x27;LABEL_MSG_PUSH_START_CHAT&#x27; | translate }}&lt;/div&gt;
        &lt;!-- &lt;div class&#x3D;&quot;pulsanti&quot;&gt;
          &lt;button ion-button icon-start color&#x3D;&quot;273e53&quot; (click)&#x3D;&quot;openUsersList($event)&quot;&gt;
            {{ &#x27;LABEL_MSG_START_CHAT&#x27; | translate }}
          &lt;/button&gt;
        &lt;/div&gt; --&gt;
      &lt;/div&gt;
    &lt;/ng-template&gt;

  &lt;/ion-list&gt;
&lt;/ion-content&gt;




&lt;!--&lt;ion-content padding&gt;
  &lt;ion-searchbar (input)&#x3D;&quot;search($event)&quot;&gt;&lt;/ion-searchbar&gt;
  &lt;ion-list&gt;
    &lt;button ion-item *ngFor&#x3D;&quot;let conversazione of conversations | async&quot; (click)&#x3D;&quot;goToDetails(conversazione)&quot;&gt;
      &lt;ion-avatar item-start&gt;
        &lt;img src&#x3D; {{conversazione.image}} alt&#x3D;&quot;user&quot; onError&#x3D;&quot;this.src&#x3D;&#x27;assets/img/no_image.svg&#x27;;&quot;&gt;
      &lt;/ion-avatar&gt;
      &lt;h2&gt;{{conversazione.convers_with_fullname}}&lt;/h2&gt;
      &lt;span *ngIf&#x3D;&quot;conversazione.status &#x3D;&#x3D; 1;then content else other_content&quot;&gt;here is ignored&lt;/span&gt;
      &lt;ng-template #content&gt;&lt;p style&#x3D;&quot;font-weight: bold;&quot;&gt;{{conversazione.last_message_text}}&lt;/p&gt;&lt;/ng-template&gt;
      &lt;ng-template #other_content&gt;&lt;p&gt;{{conversazione.last_message_text}}&lt;/p&gt;&lt;/ng-template&gt;
      &lt;ion-note item-end class&#x3D;&quot;date-right&quot;&gt;{{getTimeLastMessage(conversazione.timestamp)}}&lt;/ion-note&gt;
   &lt;/button&gt;
  &lt;/ion-list&gt;

&lt;/ion-content&gt;--&gt;</code></pre>
    </div>


    <div class="tab-pane fade " id="c-tree">
        <div id="tree-container"></div>
        <div class="tree-legend">
            <div class="title">
                <b>Legend</b>
            </div>
            <div>
                <div class="color htmlelement"></div><span>Html element</span>
            </div>
            <div>
                <div class="color component"></div><span>Component</span>
            </div>
            <div>
                <div class="color directive"></div><span>Html element with directive</span>
            </div>
        </div>
    </div>

    
</div>

<script src="../js/libs/vis.min.js"></script>
<script src="../js/libs/htmlparser.js"></script>
<script src="../js/libs/deep-iterator.js"></script>
<script>
        var COMPONENT_TEMPLATE = '<div><ion-header  no-border>  <ion-navbar class="toolbar-md-navbarLightColor">    <button ion-button menuToggle>      <ion-icon name="menu"></ion-icon>    </button>    <ion-title>      <img src="assets/chat21-logo.svg" alt="{{this.tenant}}">      <div *ngIf="numberOpenConv > 0" class="c21-number-open-conv">({{numberOpenConv}})</div>    </ion-title>    <ion-buttons end>      <!-- <button *ngIf="!isHostname" ion-button icon-only (click)="openUsersList($event)"> -->      <button *ngIf="!supportMode" ion-button icon-only (click)="openUsersList($event)">                  <ion-icon name="create"></ion-icon>      </button>      <button ion-button icon-only (click)="openArchivedConversationsPage($event)">        <ion-icon class="material-icons">history</ion-icon>      </button>      <button ion-button icon-only (click)="presentPopover($event)">        <ion-icon name="more"></ion-icon>      </button>    </ion-buttons>  </ion-navbar></ion-header><ion-content class="list-avatar-page">  <ion-list>    <span *ngIf="conversations.length > 0;then contentConversations else contentMessageWelcome">here is ignored</span>        <ng-template #contentConversations>      <ion-item no-lines ion-item [class.selected]="conversation.uid === uidConvSelected" *ngFor="let conversation of conversations"        (mousedown)="setUidConvSelected(conversation.uid)" (mouseup)="openMessageList()">        <ion-avatar item-start>          <div #avatarPlaceholder class="avatar-placeholder" [style.background-color]="conversation.color" [innerHTML]="conversation.avatar"></div>          <div #avatarImage class="chat21-avatar" [style.background-image]="\'url(\' + conversation.image + \')\'"></div>        </ion-avatar>        <div class="truncate" [innerHTML]="conversation.conversation_with_fullname"></div>        <div>          <p [class.not-read]="conversation.is_new" class="truncate" [innerHTML]="convertMessage(conversation.last_message_text)"></p>        </div>        <ion-note item-end>{{conversation.time_last_message}}</ion-note>        <button id="{{ \'close_conversation_button\' + conversation.uid }}" class="close-conversation-button" ion-button clear item-end (click)="closeConversation(conversation);$event.stopPropagation();" padding>          <ion-icon class="close-conversation-button-icon" style="display:block;" id="{{ \'close_button_icon\' + conversation.uid }}" color="close-conversation" name="close" item-end></ion-icon>        </button>        <div item-end class="c21-point" *ngIf="conversation.is_new">&nbsp;</div>      </ion-item>    </ng-template>    <ng-template #contentMessageWelcome>      <div [class.active]="loadingIsActive" class="chat21-spinner" id="chat21-spinner">        <div class="chat21-bounce1"></div>        <div class="chat21-bounce2"></div>        <div class="chat21-bounce3"></div>        <span>loading</span>      </div>      <div *ngIf="!loadingIsActive && conversations.length == 0" id="content_message_wellcome">        <div class="messaggio">{{ \'LABEL_MSG_PUSH_START_CHAT\' | translate }}</div>        <!-- <div class="pulsanti">          <button ion-button icon-start color="273e53" (click)="openUsersList($event)">            {{ \'LABEL_MSG_START_CHAT\' | translate }}          </button>        </div> -->      </div>    </ng-template>  </ion-list></ion-content><!--<ion-content padding>  <ion-searchbar (input)="search($event)"></ion-searchbar>  <ion-list>    <button ion-item *ngFor="let conversazione of conversations | async" (click)="goToDetails(conversazione)">      <ion-avatar item-start>        <img src= {{conversazione.image}} alt="user" onError="this.src=\'assets/img/no_image.svg\';">      </ion-avatar>      <h2>{{conversazione.convers_with_fullname}}</h2>      <span *ngIf="conversazione.status == 1;then content else other_content">here is ignored</span>      <ng-template #content><p style="font-weight: bold;">{{conversazione.last_message_text}}</p></ng-template>      <ng-template #other_content><p>{{conversazione.last_message_text}}</p></ng-template>      <ion-note item-end class="date-right">{{getTimeLastMessage(conversazione.timestamp)}}</ion-note>   </button>  </ion-list></ion-content>--></div>'
    var COMPONENTS = [{'name': 'ArchivedConversationsPage', 'selector': 'page-archived-conversations'},{'name': 'ChatBubble', 'selector': 'chat-bubble'},{'name': 'DettaglioConversazionePage', 'selector': 'page-dettaglio-conversazione'},{'name': 'ElasticTextarea', 'selector': 'elastic-textarea'},{'name': 'InfoAdvancedPage', 'selector': 'page-info-advanced'},{'name': 'InfoConversationPage', 'selector': 'page-info-conversation'},{'name': 'InfoMessagePage', 'selector': 'page-info-message'},{'name': 'InfoUserPage', 'selector': 'page-info-user'},{'name': 'ListaConversazioniPage', 'selector': 'page-lista-conversazioni'},{'name': 'LoginPage', 'selector': 'page-login'},{'name': 'MyApp', 'selector': ''},{'name': 'PlaceholderPage', 'selector': 'page-placeholder'},{'name': 'PopoverPage', 'selector': 'page-popover'},{'name': 'PopoverProfilePage', 'selector': 'page-popover-profile'},{'name': 'ProfilePage', 'selector': 'page-profile'},{'name': 'RegisterPage', 'selector': 'page-register'},{'name': 'ResetpwdPage', 'selector': 'page-resetpwd'},{'name': 'UpdateImageProfilePage', 'selector': 'page-update-image-profile'},{'name': 'UsersPage', 'selector': 'page-users'}];
    var DIRECTIVES = [{'name': 'AutosizeDirective', 'selector': 'ion-textarea[autosize]'}];
    var ACTUAL_COMPONENT = {'name': 'ListaConversazioniPage'};
</script>
<script src="../js/tree.js"></script>










                   




                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> result-matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'component';
            var COMPODOC_CURRENT_PAGE_URL = 'ListaConversazioniPage.html';
            var MAX_SEARCH_RESULTS = 15;
       </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>
       <!-- Required to polyfill modern browsers as code is ES5 for IE... -->
       <script src="../js/libs/custom-elements-es5-adapter.js" charset="utf-8" defer></script>
       <script src="../js/menu-wc.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>
       <script src="../js/libs/zepto.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
