<ion-header no-border>
  <ion-navbar class="toolbar-md-navbarLightColor">
    <ion-title> {{ 'LABEL_CLOSED' | translate }} </ion-title>
  </ion-navbar>
</ion-header>

<ion-content class="list-avatar-page">
  <ion-list *ngIf="areArchivedConversationsAvailable else emptyListTemplate" >
  <!-- <ion-list > -->
    <div *ngFor="let archivedConversation of archivedConversations">
      <ion-item no-lines ion-item [class.selected]="archivedConversation.uid === uidConvSelected" (click)="onArchivedConversationClicked(archivedConversation)">
        <ion-avatar item-start>
            <div #avatarPlaceholder class="avatar-placeholder" [style.background-color]="archivedConversation.color" [innerHTML]="archivedConversation.avatar"></div>
            <div #avatarImage *ngIf="archivedConversation.image && archivedConversation.image != ''" class="chat21-avatar" [style.background-image]="'url(' + archivedConversation.image + ')'"></div>
        </ion-avatar>
        <h2 class="truncate">{{archivedConversation.conversation_with_fullname}}</h2>

        <div>
            <span class="c21-point" *ngIf="archivedConversation.is_new" [ngStyle]="{ 'background-color':(archivedConversation.uid === uidConvSelected)?'#ffffff':'#0b5c89' }">&nbsp;</span>
            <p [class.not-read]="archivedConversation.is_new" class="truncate" [innerHTML]="convertMessage(archivedConversation.last_message_text)"></p>
        </div>

        <span item-end class="archived"> {{ 'LABEL_CLOSE' | translate }} </span> 
      </ion-item>
    </div>
  </ion-list>
</ion-content>

<ng-template #emptyListTemplate>
    <div class="no-archvied-chat">{{ 'ARCHIVED_CONVERSATIONS_PAGE_NO_CONVERSATIONS_ARCHIVED' | translate }}</div>
</ng-template>